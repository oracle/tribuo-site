---
title: "Model Card"
og-title: "Model Card Tutorial"
learn_nav: true
parent: Tutorials
nav_order: 321
is_notebook: true
notebook_url: https://github.com/oracle/tribuo/blob/main/tutorials/modelcard-tribuo-v4.ipynb
comment: ## DO NOT EDIT THIS FILE. IT IS COPIED FROM THE TRIBUO DOC. EDIT IT THERE. ##
---
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Model-Card-Tutorial">Model Card Tutorial<a class="anchor-link" href="#Model-Card-Tutorial">&#182;</a></h1><p>Even with the increasing use of ML systems, proper documentation of such systems has yet to gain traction. This has often been linked to the absence of standardized documentation procedures, which has recently led to the proposal of new documentation frameworks for ML models. One example includes the Model Card project, proposed by M. Mitchell et al. in <a href="https://arxiv.org/pdf/1810.03993.pdf">Model Cards for Model Reporting</a> (2019). This framework aims to allow more transparent model reporting by having the model creator document numerous suggested details (e.g., training algorithms, intended users, etc.).</p>
<p>To support this framework and contribute to the efforts towards transparent model reporting, we added a Model Card system to Tribuo. To decrease the workload on the developer's end and partially automate the process, the Model Card system uses Tribuo's built-in provenance to fill in the details relating to the model, its training, and its testing while also allowing the developer to explicitly specify the model's usage details either programmatically or by running a CLI.</p>
<h2 id="Setup">Setup<a class="anchor-link" href="#Setup">&#182;</a></h2><p>We are going to load in the LibSVM anomaly detection and Model Card jars and also import a few packages. Note that the Model Card jar is written in Java 17, and so this tutorial requires Java 17 or later.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="o">%</span><span class="n">jars</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">tribuo</span><span class="o">-</span><span class="n">anomaly</span><span class="o">-</span><span class="n">libsvm</span><span class="o">-</span><span class="mf">4.3.0</span><span class="o">-</span><span class="n">jar</span><span class="o">-</span><span class="n">with</span><span class="o">-</span><span class="n">dependencies</span><span class="p">.</span><span class="na">jar</span><span class="w"></span>
<span class="o">%</span><span class="n">jars</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">tribuo</span><span class="o">-</span><span class="n">modelcard</span><span class="o">-</span><span class="mf">4.3.0</span><span class="o">-</span><span class="n">jar</span><span class="o">-</span><span class="n">with</span><span class="o">-</span><span class="n">dependencies</span><span class="p">.</span><span class="na">jar</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.oracle.labs.mlrg.olcut.provenance.ProvenanceUtil</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.MutableDataset</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.interop.modelcard.ModelCard</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.interop.modelcard.UsageDetailsBuilder</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.anomaly.evaluation.AnomalyEvaluator</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.anomaly.example.GaussianAnomalyDataSource</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.anomaly.libsvm.SVMAnomalyType</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.common.libsvm.KernelType</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.tribuo.common.libsvm.SVMParameters</span><span class="p">;</span><span class="w"></span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.File</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span><span class="w"></span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-a-Model-Card-for-a-Tribuo-Model">Creating a Model Card for a Tribuo Model<a class="anchor-link" href="#Creating-a-Model-Card-for-a-Tribuo-Model">&#182;</a></h2><p>The Model Card system only supports Tribuo models and is currently incompatible with external models. The information stored within a <code>ModelCard</code> is separated into four components: <code>ModelDetails</code>, <code>TrainingDetails</code>, <code>TestingDetails</code>, and <code>UsageDetails</code>. Construction of <code>ModelDetails</code> and <code>TrainingDetails</code> only relies on the built-in provenance of a <code>Model</code> instance while <code>TestingDetails</code> relies on the built-in provenance of an <code>Evaluation</code> instance and can be further augmented by a <code>Map</code> of testing metrics pre-selected by the user. In contrast, <code>UsageDetails</code> relies entirely on fields set by the user and can either be constructed programmatically using the <code>UsageDetailsBuilder</code> or interactively using the <code>ModelCardCLI</code>.</p>
<p>We will first re-create the anomaly detection model from the Anomaly Detection tutorial and then construct numerous <code>ModelCard</code> objects.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">trainData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MutableDataset</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">GaussianAnomalyDataSource</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mi">1L</span><span class="p">));</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="n">evalData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MutableDataset</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">GaussianAnomalyDataSource</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span><span class="mf">0.2f</span><span class="p">,</span><span class="mi">2L</span><span class="p">));</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SVMParameters</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">SVMAnomalyType</span><span class="p">(</span><span class="n">SVMAnomalyType</span><span class="p">.</span><span class="na">SVMMode</span><span class="p">.</span><span class="na">ONE_CLASS</span><span class="p">),</span><span class="w"> </span><span class="n">KernelType</span><span class="p">.</span><span class="na">RBF</span><span class="p">);</span><span class="w"></span>
<span class="n">params</span><span class="p">.</span><span class="na">setGamma</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span><span class="w"></span>
<span class="n">params</span><span class="p">.</span><span class="na">setNu</span><span class="p">(</span><span class="mf">0.1</span><span class="p">);</span><span class="w"></span>

<span class="kd">var</span><span class="w"> </span><span class="n">trainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LibSVMAnomalyTrainer</span><span class="p">(</span><span class="n">params</span><span class="p">);</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">trainer</span><span class="p">.</span><span class="na">train</span><span class="p">(</span><span class="n">trainData</span><span class="p">);</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="n">evaluator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnomalyEvaluator</span><span class="p">();</span><span class="w"></span>
<span class="kd">var</span><span class="w"> </span><span class="n">evaluation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evaluator</span><span class="p">.</span><span class="na">evaluate</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="n">evalData</span><span class="p">);</span><span class="w"></span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ProvenanceUtil</span><span class="p">.</span><span class="na">formattedProvenanceString</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="na">getProvenance</span><span class="p">()));</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">ProvenanceUtil</span><span class="p">.</span><span class="na">formattedProvenanceString</span><span class="p">(</span><span class="n">evaluation</span><span class="p">.</span><span class="na">getProvenance</span><span class="p">()));</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>*
optimization finished, #iter = 653
obj = 289.5926348816893, rho = 3.144570476807895
nSV = 296, nBSV = 114

LibSVMModel(
	class-name = org.tribuo.common.libsvm.LibSVMModel
	dataset = MutableDataset(
			class-name = org.tribuo.MutableDataset
			datasource = GaussianAnomalyDataSource(
					class-name = org.tribuo.anomaly.example.GaussianAnomalyDataSource
					expectedMeans = List[
						1.0
						2.0
						1.0
						2.0
						5.0
					]
					anomalousMeans = List[
						-2.0
						2.0
						-2.0
						2.0
						-10.0
					]
					seed = 1
					numSamples = 2000
					fractionAnomalous = 0.0
					anomalousVariances = List[
						1.0
						0.5
						0.25
						1.0
						0.1
					]
					expectedVariances = List[
						1.0
						0.5
						0.25
						1.0
						0.1
					]
					host-short-name = DataSource
				)
			transformations = List[]
			is-sequence = false
			is-dense = true
			num-examples = 2000
			num-features = 5
			num-outputs = 2
			tribuo-version = 4.3.0
		)
	trainer = LibSVMAnomalyTrainer(
			class-name = org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer
			cost = 1.0
			coef0 = 0.0
			seed = 12345
			cache_size = 500.0
			probability = false
			nu = 0.1
			degree = 3
			eps = 0.001
			kernelType = RBF
			p = 0.1
			shrinking = true
			svmType = SVMAnomalyType(
					class-name = org.tribuo.anomaly.libsvm.SVMAnomalyType
					type = ONE_CLASS
					host-short-name = SVMType
				)
			gamma = 1.0
			tribuo-version = 4.3.0
			train-invocation-count = 0
			is-sequence = false
			host-short-name = Trainer
		)
	trained-at = 2022-10-07T12:03:06.539476091-04:00
	instance-values = Map{}
	tribuo-version = 4.3.0
	java-version = 17.0.4.1
	os-name = Linux
	os-arch = amd64
)

EvaluationProvenance(
	class-name = org.tribuo.provenance.EvaluationProvenance
	model-provenance = LibSVMModel(
			class-name = org.tribuo.common.libsvm.LibSVMModel
			dataset = MutableDataset(
					class-name = org.tribuo.MutableDataset
					datasource = GaussianAnomalyDataSource(
							class-name = org.tribuo.anomaly.example.GaussianAnomalyDataSource
							expectedMeans = List[
								1.0
								2.0
								1.0
								2.0
								5.0
							]
							anomalousMeans = List[
								-2.0
								2.0
								-2.0
								2.0
								-10.0
							]
							seed = 1
							numSamples = 2000
							fractionAnomalous = 0.0
							anomalousVariances = List[
								1.0
								0.5
								0.25
								1.0
								0.1
							]
							expectedVariances = List[
								1.0
								0.5
								0.25
								1.0
								0.1
							]
							host-short-name = DataSource
						)
					transformations = List[]
					is-sequence = false
					is-dense = true
					num-examples = 2000
					num-features = 5
					num-outputs = 2
					tribuo-version = 4.3.0
				)
			trainer = LibSVMAnomalyTrainer(
					class-name = org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer
					cost = 1.0
					coef0 = 0.0
					seed = 12345
					cache_size = 500.0
					probability = false
					nu = 0.1
					degree = 3
					eps = 0.001
					kernelType = RBF
					p = 0.1
					shrinking = true
					svmType = SVMAnomalyType(
							class-name = org.tribuo.anomaly.libsvm.SVMAnomalyType
							type = ONE_CLASS
							host-short-name = SVMType
						)
					gamma = 1.0
					tribuo-version = 4.3.0
					train-invocation-count = 0
					is-sequence = false
					host-short-name = Trainer
				)
			trained-at = 2022-10-07T12:03:06.539476091-04:00
			instance-values = Map{}
			tribuo-version = 4.3.0
			java-version = 17.0.4.1
			os-name = Linux
			os-arch = amd64
		)
	dataset-provenance = MutableDataset(
			class-name = org.tribuo.MutableDataset
			datasource = GaussianAnomalyDataSource(
					class-name = org.tribuo.anomaly.example.GaussianAnomalyDataSource
					expectedMeans = List[
						1.0
						2.0
						1.0
						2.0
						5.0
					]
					anomalousMeans = List[
						-2.0
						2.0
						-2.0
						2.0
						-10.0
					]
					seed = 2
					numSamples = 2000
					fractionAnomalous = 0.2
					anomalousVariances = List[
						1.0
						0.5
						0.25
						1.0
						0.1
					]
					expectedVariances = List[
						1.0
						0.5
						0.25
						1.0
						0.1
					]
					host-short-name = DataSource
				)
			transformations = List[]
			is-sequence = false
			is-dense = true
			num-examples = 2000
			num-features = 5
			num-outputs = 2
			tribuo-version = 4.3.0
		)
	tribuo-version = 4.3.0
)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At the very least, constructing a <code>ModelCard</code>  requires a <code>Model</code> and its <code>Evaluation</code>. Providing only these two parameters results in a <code>ModelCard</code> without any testing metrics and a null <code>UsageDetails</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="n">ModelCard</span><span class="w"> </span><span class="n">card1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ModelCard</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">evaluation</span><span class="p">);</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">card1</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{
  &#34;ModelDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;model-type&#34; : &#34;LibSVMAnomalyModel&#34;,
    &#34;model-package&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyModel&#34;,
    &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
    &#34;java-version&#34; : &#34;17.0.4.1&#34;,
    &#34;configured-parameters&#34; : {
      &#34;cost&#34; : &#34;1.0&#34;,
      &#34;coef0&#34; : &#34;0.0&#34;,
      &#34;seed&#34; : &#34;12345&#34;,
      &#34;cache_size&#34; : &#34;500.0&#34;,
      &#34;probability&#34; : &#34;false&#34;,
      &#34;nu&#34; : &#34;0.1&#34;,
      &#34;train-invocation-count&#34; : &#34;0&#34;,
      &#34;is-sequence&#34; : &#34;false&#34;,
      &#34;degree&#34; : &#34;3&#34;,
      &#34;eps&#34; : &#34;0.001&#34;,
      &#34;host-short-name&#34; : &#34;Trainer&#34;,
      &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer&#34;,
      &#34;kernelType&#34; : &#34;RBF&#34;,
      &#34;p&#34; : &#34;0.1&#34;,
      &#34;shrinking&#34; : &#34;true&#34;,
      &#34;svmType&#34; : {
        &#34;type&#34; : &#34;ONE_CLASS&#34;,
        &#34;host-short-name&#34; : &#34;SVMType&#34;,
        &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.SVMAnomalyType&#34;
      },
      &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
      &#34;gamma&#34; : &#34;1.0&#34;
    }
  },
  &#34;TrainingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;training-time&#34; : &#34;2022-10-07T12:03:06.539476091-04:00&#34;,
    &#34;training-set-size&#34; : 2000,
    &#34;num-features&#34; : 5,
    &#34;features-list&#34; : [ &#34;A&#34;, &#34;B&#34;, &#34;C&#34;, &#34;D&#34;, &#34;E&#34; ],
    &#34;num-outputs&#34; : 2,
    &#34;outputs-distribution&#34; : {
      &#34;ANOMALOUS&#34; : 0,
      &#34;EXPECTED&#34; : 2000
    }
  },
  &#34;TestingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;testing-set-size&#34; : 2000,
    &#34;metrics&#34; : { }
  },
  &#34;UsageDetails&#34; : null
}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To include testing metrics in the <code>TestingDetails</code> section of a <code>ModelCard</code>, a map of the metrics (with the key being the metric description and the value being the metric value) can be provided as an additional parameter to the constructor. Note that the <code>ModelCard</code> constructor copies all the items from the parameter map rather than storing a reference to that map. This means that any changes applied to the parameter map after a <code>ModelCard</code> is constructed will not be present in the metrics map of the <code>ModelCard</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">testingMetrics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"></span>
<span class="n">testingMetrics</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;overall-precision&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">evaluation</span><span class="p">.</span><span class="na">getPrecision</span><span class="p">());</span><span class="w"></span>
<span class="n">testingMetrics</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;overall-recall&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">evaluation</span><span class="p">.</span><span class="na">getRecall</span><span class="p">());</span><span class="w"></span>

<span class="n">ModelCard</span><span class="w"> </span><span class="n">card2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ModelCard</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">evaluation</span><span class="p">,</span><span class="w"> </span><span class="n">testingMetrics</span><span class="p">);</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">card2</span><span class="p">);</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{
  &#34;ModelDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;model-type&#34; : &#34;LibSVMAnomalyModel&#34;,
    &#34;model-package&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyModel&#34;,
    &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
    &#34;java-version&#34; : &#34;17.0.4.1&#34;,
    &#34;configured-parameters&#34; : {
      &#34;cost&#34; : &#34;1.0&#34;,
      &#34;coef0&#34; : &#34;0.0&#34;,
      &#34;seed&#34; : &#34;12345&#34;,
      &#34;cache_size&#34; : &#34;500.0&#34;,
      &#34;probability&#34; : &#34;false&#34;,
      &#34;nu&#34; : &#34;0.1&#34;,
      &#34;train-invocation-count&#34; : &#34;0&#34;,
      &#34;is-sequence&#34; : &#34;false&#34;,
      &#34;degree&#34; : &#34;3&#34;,
      &#34;eps&#34; : &#34;0.001&#34;,
      &#34;host-short-name&#34; : &#34;Trainer&#34;,
      &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer&#34;,
      &#34;kernelType&#34; : &#34;RBF&#34;,
      &#34;p&#34; : &#34;0.1&#34;,
      &#34;shrinking&#34; : &#34;true&#34;,
      &#34;svmType&#34; : {
        &#34;type&#34; : &#34;ONE_CLASS&#34;,
        &#34;host-short-name&#34; : &#34;SVMType&#34;,
        &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.SVMAnomalyType&#34;
      },
      &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
      &#34;gamma&#34; : &#34;1.0&#34;
    }
  },
  &#34;TrainingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;training-time&#34; : &#34;2022-10-07T12:03:06.539476091-04:00&#34;,
    &#34;training-set-size&#34; : 2000,
    &#34;num-features&#34; : 5,
    &#34;features-list&#34; : [ &#34;A&#34;, &#34;B&#34;, &#34;C&#34;, &#34;D&#34;, &#34;E&#34; ],
    &#34;num-outputs&#34; : 2,
    &#34;outputs-distribution&#34; : {
      &#34;ANOMALOUS&#34; : 0,
      &#34;EXPECTED&#34; : 2000
    }
  },
  &#34;TestingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;testing-set-size&#34; : 2000,
    &#34;metrics&#34; : {
      &#34;overall-recall&#34; : 1.0,
      &#34;overall-precision&#34; : 0.6357927786499215
    }
  },
  &#34;UsageDetails&#34; : null
}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition, we can construct a <code>UsageDetails</code> object using the <code>UsageDetailsBuilder</code> and specify details on the appropriate usage of our trained model. The <code>UsageDetails</code> object can then be provided as an additional parameter to the <code>ModelCard</code> constructor. Note that <code>UsageDetailsBuilder</code> will have the empty string or list as the default value for any of its fields, which will also get carried over to the <code>UsageDetails</code> object after building.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UsageDetailsBuilder</span><span class="p">();</span><span class="w"></span>
<span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">intendedUse</span><span class="p">(</span><span class="s">&quot;Anomaly detection&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">                 </span><span class="p">.</span><span class="na">intendedUsers</span><span class="p">(</span><span class="s">&quot;ML learners&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">                 </span><span class="p">.</span><span class="na">primaryContact</span><span class="p">(</span><span class="s">&quot;Alice&quot;</span><span class="p">);</span><span class="w"></span>

<span class="n">ModelCard</span><span class="w"> </span><span class="n">card3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ModelCard</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="n">evaluation</span><span class="p">,</span><span class="w"> </span><span class="n">testingMetrics</span><span class="p">,</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="na">build</span><span class="p">());</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">card3</span><span class="p">);</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{
  &#34;ModelDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;model-type&#34; : &#34;LibSVMAnomalyModel&#34;,
    &#34;model-package&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyModel&#34;,
    &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
    &#34;java-version&#34; : &#34;17.0.4.1&#34;,
    &#34;configured-parameters&#34; : {
      &#34;cost&#34; : &#34;1.0&#34;,
      &#34;coef0&#34; : &#34;0.0&#34;,
      &#34;seed&#34; : &#34;12345&#34;,
      &#34;cache_size&#34; : &#34;500.0&#34;,
      &#34;probability&#34; : &#34;false&#34;,
      &#34;nu&#34; : &#34;0.1&#34;,
      &#34;train-invocation-count&#34; : &#34;0&#34;,
      &#34;is-sequence&#34; : &#34;false&#34;,
      &#34;degree&#34; : &#34;3&#34;,
      &#34;eps&#34; : &#34;0.001&#34;,
      &#34;host-short-name&#34; : &#34;Trainer&#34;,
      &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer&#34;,
      &#34;kernelType&#34; : &#34;RBF&#34;,
      &#34;p&#34; : &#34;0.1&#34;,
      &#34;shrinking&#34; : &#34;true&#34;,
      &#34;svmType&#34; : {
        &#34;type&#34; : &#34;ONE_CLASS&#34;,
        &#34;host-short-name&#34; : &#34;SVMType&#34;,
        &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.SVMAnomalyType&#34;
      },
      &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
      &#34;gamma&#34; : &#34;1.0&#34;
    }
  },
  &#34;TrainingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;training-time&#34; : &#34;2022-10-07T12:03:06.539476091-04:00&#34;,
    &#34;training-set-size&#34; : 2000,
    &#34;num-features&#34; : 5,
    &#34;features-list&#34; : [ &#34;A&#34;, &#34;B&#34;, &#34;C&#34;, &#34;D&#34;, &#34;E&#34; ],
    &#34;num-outputs&#34; : 2,
    &#34;outputs-distribution&#34; : {
      &#34;ANOMALOUS&#34; : 0,
      &#34;EXPECTED&#34; : 2000
    }
  },
  &#34;TestingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;testing-set-size&#34; : 2000,
    &#34;metrics&#34; : {
      &#34;overall-recall&#34; : 1.0,
      &#34;overall-precision&#34; : 0.6357927786499215
    }
  },
  &#34;UsageDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;intended-use&#34; : &#34;Anomaly detection&#34;,
    &#34;intended-users&#34; : &#34;ML learners&#34;,
    &#34;out-of-scope-uses&#34; : [ ],
    &#34;pre-processing-steps&#34; : [ ],
    &#34;considerations-list&#34; : [ ],
    &#34;relevant-factors-list&#34; : [ ],
    &#34;resources-list&#34; : [ ],
    &#34;primary-contact&#34; : &#34;Alice&#34;,
    &#34;model-citation&#34; : &#34;&#34;,
    &#34;model-license&#34; : &#34;&#34;
  }
}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Alternatively, the <code>UsageDetails</code> can also be appended to a <code>ModelCard</code> after the construction of the <code>ModelCard</code>. This will require using the <code>ModelCardCLI</code>, which will launch a new shell and allow the user to interactively set the fields of <code>UsageDetails</code>. In the end, to append the <code>UsageDetails</code> to a desired <code>ModelCard</code>, the <code>ModelCardCLI</code> will require a file containing a serialized version of the desired <code>ModelCard</code>. We can easily create the serialized version of a <code>ModelCard</code> and save it to a file. The file containing the serialized <code>ModelCard</code> can also be deserialized to instantiate a <code>ModelCard</code> object.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="n">File</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">File</span><span class="p">.</span><span class="na">createTempFile</span><span class="p">(</span><span class="s">&quot;output&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;json&quot;</span><span class="p">);</span><span class="w"></span>
<span class="n">card3</span><span class="p">.</span><span class="na">saveToFile</span><span class="p">(</span><span class="n">output</span><span class="p">.</span><span class="na">toPath</span><span class="p">());</span><span class="w"></span>

<span class="n">ModelCard</span><span class="w"> </span><span class="n">card4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ModelCard</span><span class="p">.</span><span class="na">deserializeFromJson</span><span class="p">(</span><span class="n">output</span><span class="p">.</span><span class="na">toPath</span><span class="p">());</span><span class="w"></span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">card4</span><span class="p">);</span><span class="w"></span>

<span class="n">output</span><span class="p">.</span><span class="na">delete</span><span class="p">();</span><span class="w"></span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{
  &#34;ModelDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;model-type&#34; : &#34;LibSVMAnomalyModel&#34;,
    &#34;model-package&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyModel&#34;,
    &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
    &#34;java-version&#34; : &#34;17.0.4.1&#34;,
    &#34;configured-parameters&#34; : {
      &#34;cost&#34; : &#34;1.0&#34;,
      &#34;coef0&#34; : &#34;0.0&#34;,
      &#34;seed&#34; : &#34;12345&#34;,
      &#34;cache_size&#34; : &#34;500.0&#34;,
      &#34;probability&#34; : &#34;false&#34;,
      &#34;nu&#34; : &#34;0.1&#34;,
      &#34;train-invocation-count&#34; : &#34;0&#34;,
      &#34;is-sequence&#34; : &#34;false&#34;,
      &#34;degree&#34; : &#34;3&#34;,
      &#34;eps&#34; : &#34;0.001&#34;,
      &#34;host-short-name&#34; : &#34;Trainer&#34;,
      &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.LibSVMAnomalyTrainer&#34;,
      &#34;kernelType&#34; : &#34;RBF&#34;,
      &#34;p&#34; : &#34;0.1&#34;,
      &#34;shrinking&#34; : &#34;true&#34;,
      &#34;svmType&#34; : {
        &#34;type&#34; : &#34;ONE_CLASS&#34;,
        &#34;host-short-name&#34; : &#34;SVMType&#34;,
        &#34;class-name&#34; : &#34;org.tribuo.anomaly.libsvm.SVMAnomalyType&#34;
      },
      &#34;tribuo-version&#34; : &#34;4.3.0&#34;,
      &#34;gamma&#34; : &#34;1.0&#34;
    }
  },
  &#34;TrainingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;training-time&#34; : &#34;2022-10-07T12:03:06.539476091-04:00&#34;,
    &#34;training-set-size&#34; : 2000,
    &#34;num-features&#34; : 5,
    &#34;features-list&#34; : [ &#34;A&#34;, &#34;B&#34;, &#34;C&#34;, &#34;D&#34;, &#34;E&#34; ],
    &#34;num-outputs&#34; : 2,
    &#34;outputs-distribution&#34; : {
      &#34;ANOMALOUS&#34; : 0,
      &#34;EXPECTED&#34; : 2000
    }
  },
  &#34;TestingDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;testing-set-size&#34; : 2000,
    &#34;metrics&#34; : {
      &#34;overall-precision&#34; : 0.6357927786499215,
      &#34;overall-recall&#34; : 1.0
    }
  },
  &#34;UsageDetails&#34; : {
    &#34;schema-version&#34; : &#34;1.0&#34;,
    &#34;intended-use&#34; : &#34;Anomaly detection&#34;,
    &#34;intended-users&#34; : &#34;ML learners&#34;,
    &#34;out-of-scope-uses&#34; : [ ],
    &#34;pre-processing-steps&#34; : [ ],
    &#34;considerations-list&#34; : [ ],
    &#34;relevant-factors-list&#34; : [ ],
    &#34;resources-list&#34; : [ ],
    &#34;primary-contact&#34; : &#34;Alice&#34;,
    &#34;model-citation&#34; : &#34;&#34;,
    &#34;model-license&#34; : &#34;&#34;
  }
}
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>true</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that <code>ModelCardCLI</code> will only append a <code>UsageDetails</code> to a <code>ModelCard</code> that has a null <code>UsageDetails</code> and will throw an error in all other cases. This means that a serialized <code>ModelCard</code> file that had its <code>UsageDetails</code> set programmatically with the <code>UsageDetailsBuilder</code> cannot be provided to the <code>ModelCardCLI</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">&#182;</a></h2><p>We showed how to create a partially automated documentation of a Tribuo ML model using the Model Card system. The system relies on Tribuo's built-in provenance to fill in the details relating to the model, its training, and its testing. It then allows the developer to specify details on the model's usage either programmatically or interactively with a CLI. Over time, we plan to allow developers to specify additional details about their models, with a special focus on supporting more quantitative and statistical details.</p>

</div>
</div>
</div>
    </div>
  </div>
</body>

